//apply plugin: "maven-publish"
apply plugin: "java-library"
apply plugin: "maven"

version = "$actionSystemVersion"
sourceCompatibility = 1.8

group = "com.github.vabrant.actionsystem"

[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'

compileJava {
    options.incremental = true
}

dependencies {
    api "com.badlogicgames.gdx:gdx:$gdxVersion"
    testImplementation "space.earlygrey:shapedrawer:$shapeDrawerVersion"
    testImplementation "com.badlogicgames.gdx:gdx-backend-lwjgl3:$gdxVersion"
    testImplementation "com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop"
    testImplementation "junit:junit:4.13"
}

task sourceJar(type: Jar) {
    from sourceSets.main.allSource
    archiveClassifier = "sources"
}

task javadocJar(type: Jar, dependsOn: javadoc) {
    from javadoc.destinationDir
    archiveClassifier = "javadoc"
}

artifacts {
    archives sourceJar
    archives javadocJar
}

install{
    repositories.mavenInstaller{
    }
}

//publishing {
//	publications {
//		mavenJava(MavenPublication) {
//			from components.java
//
//            artifact sourceJar
//		}
//	}
//}

